<!DOCTYPE html>
<html>
<head>
	<style>
		body {
    	margin: 0;
		}
	</style>
</head>
  
<body onload="execDaumPostcode()">
	<div id="layer"></div>

	<script src="https://spi.maps.daum.net/imap/map_js_init/postcode.v2.js"></script>
	<script>
		var element_layer = document.getElementById('layer');
		
		function execDaumPostcode() {
			new daum.Postcode({
				oncomplete: function(data) {

					var fullAddr = data.address; // 최종 주소 변수
					var extraAddr = ''; // 조합형 주소 변수
					
					if(data.addressType === 'R'){
						
						if(data.bname !== ''){
							extraAddr += data.bname;
						}
						
						if(data.buildingName !== ''){
							extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
						}
						
						fullAddr += (extraAddr !== '' ? ' ('+ extraAddr +')' : '');
					}
					
					var fullRoadAddr = data.roadAddress; // 도로명 주소 변수
					var extraRoadAddr = ''; // 도로명 조합형 주소 변수
					
					if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
						extraRoadAddr += data.bname;
					}
					
					if(data.buildingName !== '' && data.apartment === 'Y'){
						extraRoadAddr += (extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName);
					}
					
					if(extraRoadAddr !== ''){
						extraRoadAddr = ' (' + extraRoadAddr + ')';
					}
					
					if(fullRoadAddr !== ''){
						fullRoadAddr += extraRoadAddr;
					}
					
					var postData = {
							data: data,
							addr : fullRoadAddr
					};
					
					window.parent.postMessage(postData, "*");
				},
				width : '100%',
				height : '100%'
			}).embed(element_layer);
			element_layer.style.display = 'block';
		}
	</script>
</body>
</html>
